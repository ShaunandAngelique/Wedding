<!doctype html>
<html>
	<head>
		<title>Angelique+Shaun are getting married</title>
		<link rel="shortcut icon" href="Logo.png" type="image/x-icon">
		
		<link href='https://fonts.googleapis.com/css?family=Sacramento' rel='stylesheet'>
		
		<style>
		
			html {
				scroll-behavior: smooth;
			/*
				
				background: url("Images/background3.jpg") no-repeat;
				background-position: 0px 0px;
				background-size: 100% 100%;
				background-attachment: fixed;
				background-color: white;	*/			
			}
			@font-face{
				font-family: myAmelia;
				src: url("Fonts/Amelia_Giovani/Amelia Giovani.otf");
			}
			
			@font-face{
				font-family: myTex;
				src: url("Fonts/ENGRY/engry.otf");
			}
			
			@font-face {
				font-family: myfutura;
				src: url("Fonts/Futura/futura light font.ttf");
			}
			
			@font-face {
				font-family: myConeriaScript;
				src: url("Fonts/Coneria-Script/Demo-ConeriaScript.ttf");
			}
			
			@font-face {
				font-family: myRaleway;
				src: url("Fonts/Raleway/Raleway-Regular.ttf");
			}
			
			body{
				
				
			}			
			
			.contentContainer {
				width: 100%;
				/*border: 1px solid black; /* border width|style|color */
				text-align: center;
				
			}
			
			.stickyContainer {
				width: 100%;
				/*border: 1px solid black; /* border width|style|color */
				text-align: center;
				position: fixed;
				top: 0;
				width: 100%;
				background: white;
			}
			
			.imageContainer {
				width: 100%;
				/*border: 1px solid black; /* border width|style|color */
				text-align: center;
				margin-top: 25px;
				margin-bottom: 25px;
			}
			
			.navContainer{
				width: 100%;
				text-align: center;
				position: fixed;
				top: 0px;
			}
			
			.navBar{												
				height: 80px;
				padding-top: 20px;				
				text-align: center;	
			}
			
			.menu {
				width: 850px;
				padding: 5px;
				display: inline-block;
				font-family: myTex;
				font-size: 11px;
				border-radius: 25px;	
				border: 0.5px solid #b3844b;
				background-color: white;
			}
			
			.menuItem {
				display: inline;
			}
			
			.menuItem a {
				text-decoration: none;
				padding: 25px;
				color: black;
			}
			
			#Logo {
				margin-top: 100px;
			}
			
			.timer {
				font-family: myTex;
				font-size: 30px;
			}
			
			.nameContainer {
				display: inline-block;
				margin-left: 30%;
				text-align: center;
			}
			
			#Intro {			
				font-family: myConeriaScript;
				font-size: 75px;
				color: #71726e;
				text-shadow: 1px 1px 1px black;				
			}
			
			#Top {
				display: none;
				position: fixed;
				bottom: 20px;
				right: 30px;
				z-index: 99;
				font-family: myTex;
				font-size: 20px;
				border-radius: 15px;
				background-color: #eee8d8;
				border: none;
				color: #714949;
				width: 100px;
				cursor: pointer;
				
				
			}
			
			#Names {
				font-family: myTex;
				font-size: 45px;
				color: black;
				height: 100px;
				margin-top: 0px;
			}
			
			#Message {
				font-family: myAmelia;
				font-size: 65px;
				color: #b3844b;
				margin-top: -100px;
			}
			
			#BigDay {
				font-family: myAmelia;
				font-size: 62px;
				color: #b3844b;
				/*text-shadow: 1px 1px 1px black;*/
			}
			
			#GettingThere {
				font-family: myAmelia;
				font-size: 62px;
				color: #b3844b;
				/*text-shadow: 1px 1px 1px black;*/
			}
			
			#StayingThere {
				font-family: myAmelia;
				font-size: 62px;
				color: #b3844b;
				/*text-shadow: 1px 1px 1px black;*/
			}
			
			#Gifts {
				font-family: myAmelia;
				font-size: 62px;
				color: #b3844b;
				/*text-shadow: 1px 1px 1px black;*/
			}
			
			#Map {
				font-family: myAmelia;
				font-size: 62px;
				color: #b3844b;
				/*text-shadow: 1px 1px 1px black;*/k;
			}
			
			.RSVP {
				font-family: myAmelia;
				font-size: 62px;
				color: #b3844b;
				/*text-shadow: 1px 1px 1px black;*/
			}
			
			.RES {
				font-family: myAmelia;
				font-size: 62px;
				color: #b3844b;
				/*text-shadow: 1px 1px 1px black;*/
			}
			
			#AccImage {
				margin-top: -40px;
			}
			
			#GettingThereContent{
				margin-left: 25%;
				text-align: left;
				width: 50%;
			}
			
			.main {
				width: 1100px;
				display: inline-block;
				font-size: 18px;
				font-family: myTex;
				color: black;
				text-shadow: none;
			}
			
			.columns {
				display: inline-block;
				width: 500px;
				vertical-align: top;
			}
			
			.columnsName {				
				display: inline-block;
				width: 350px;
				vertical-align: top;			
			}
			
			
			.RSVPButton {
				font-family: myTex;
				font-size: 20px;
				border-radius: 25px;
				background-color: #eee8d8;
				border: none;
				color: #714949;
				width: 250px;
				cursor: pointer;
			}
			
			.Book {
			font-family: myTex;
			font-size: 20px;
			border-radius: 25px;
			background-color: #eee8d8;
			border: none;
			color: #714949;
			width: 250px;
			cursor: pointer;
			margin-top: 30px;
			}
			
			.HeroImage {
				width: 100%;
				height: 50%
				z-index: -1;				
				position: absolute;
			}
			
			.HeroImage img{								
				width: 100%;
				height: 50%;
				z-index: -2;
				position: relative;
				opacity: 0.9;
			}						
			
			.Modal{
			  display: none; /* Hidden by default */
			  position: fixed; /* Stay in place */
			  z-index: 1; /* Sit on top */
			  left: 0;
			  top: 0;
			  padding-top: 10px;
			  width: 100%; /* Full width */
			  height: 100%; /* Full height */
			  overflow: auto; /* Enable scroll if needed */
			  background-color: rgb(0,0,0); /* Fallback color */
			  background-color: rgba(0,0,0,0.7); /* Black w/ opacity */
			}

			/* Modal Content/Box */
			.modal-content{
			  background-color: #fefefe;
			  margin: 2% auto; /* 15% from the top and centered */
			  padding: 20px;
			  border: 1px solid #888;
			  width: 40%; /* Could be more or less, depending on screen size */
			}
			
			.RSVPContainer{
				
			font-size: 14px;
			font-family: myRaleway;
			color: #70716c;
		
			}
			
			.RESContainer{
				
			font-size: 14px;
			font-family: myRaleway;
			color: #70716c;
		
			}

			/* The Close Button */
			.close{
			  color: #aaa;
			  float: right;
			  font-size: 55px;
			  font-weight: bold;
			}

			.close:hover,
			.close:focus {
			  color: black;
			  text-decoration: none;
			  cursor: pointer;
			}
			
			#page1 {
				display: block;
			}
			
			#page2 {
				display: none;
			}
			
			#page3 {
				display: none;
			}
			
			#RES-page1 {
				display: block;
			}
			
			#RES-page2 {
				display: none;
			}
			
			#RES-page3 {
				display: none;
			}
			
			
		</style>
	</head>
	<body>
	
		<section> <!-- Block for navigation Links -->				
				<div class="navContainer">
					<div class="navBar">
						<ul class="menu">
							<li class="menuItem"><a href="#HomeFERN">HOME</a></li>
							<li class="menuItem"><a href="#BigDayFERN">THE BIG DAY</a></li>
							<li class="menuItem"><a href="#GettingThereFERN">GETTING THERE</a></li>
							<li class="menuItem"><a href="#StayingThereFERN">STAYING THERE</a></li>
							<li class="menuItem"><a href="#RSVPFERN">RSVP</a></li>					
							<li class="menuItem"><a href="#GiftsFERN">GIFTS</a></li>							
							<!-- <li class="menuItem"><a href="#Us">US BEING US</a></li> -->
						</ul>
					</div>
				</div>			
		</section>
		
		<section> <!-- Block for "A heart S" image -->
			<div class="contentContainer" >
				<img id="Logo" src="Images/Logo2.png" height="400px" width="400px">
			</div>
		</section>		
		
		<section><!-- Block for countdown timer -->
			<div class="contentContainer">
				<div class="timer">
				</div>
			</div>
		</section>
	
		<section><!-- Block for names -->
			<div class="contentContainer">
				<div id="Names">
					<p>ANGELIQUE + SHAUN</p>
				</div>
				<div id="Message">
				        <p>are getting married</p>
				</div>
			</div>
		</section>	
	
		<section> <!-- Vector Art Protea -->
			<div id="BigDayFERN" class="imageContainer">
				<img src="Images/fern.png" alt="Protea" height="50px" width="150px">
			</div>
		</section>
		
		<section> <!-- Block for the Big Day -->
			<div class="contentContainer">
				<div id="BigDay">
					<div>The big day</div>
					<div class="main" style="width: 780px">
						<div class="columns Left" style="width: 350px">
							<div style="font-family: myTex; font-size:25px";><b>WHEN</b></div>
							<p style="font-family: myRaleway; font-size:17px; color: #70716c;"> The wedding will be held on Tuesday, April 27, 2021, 16:00. We'll start with the ceremony at The Cliff Venue, then move to The Reception Boma. Dress code will be smart causual</p>
						</div>
						<div class="columns Right" style="width: 350px">
							<div style="font-family: myTex; font-size:25px;"><b>WHERE</b></div>
							<p style="font-family: myRaleway; font-size:17px; color: #70716c;">Kuthaba Bush Lodge,</br>Driefontein Rd,</br> 0510,</br> South Africa</p>
						</div>
					</div>
				</div>
			</div>
		</section>		
		
		<section> <!-- Back to top button -->
			<div>
				<button onclick="ScrollToTop()" id="Top" title="GoToTop">^</br>TOP</button>
			</div>
		</section>
		
		<section> <!-- Vector Art Protea -->
			<div class="imageContainer" id="GettingThereFERN">
				<img src="Images/fern.png" alt="Protea" height="50" width="150">
			</div>
		</section>
		
		<section> <!-- Block for the Getting There -->
			<div class="contentContainer">
				<div id="GettingThere">
					<div>Getting there</div>
					<div class="main">
						<div id="GettingThereContent">
								<p>
									<ul style="font-family: myRaleway; font-size:17px; list-style-type:disc;color: #70716c">
										<li class="directions">Head North on the N1 towards Polokwane</li>
										<li class="directions">Keep left at the Kranskop Toll Plaza to take the R33 left towards Modimolle</li>
										<li class="directions">Continue on the R33 (Nelson Mandela Drive) into Modimolle</li>
										<li class="directions">Turn Right onto the R101 (Thabo Mbeki Drive)</li>
										<li class="directions">Continue straight for 6,5km on the R101</li>
										<li class="directions">Turn Left onto the Driefontein Road (D1359)</li>
										<li class="directions">Continue on this road for 6km and Kuthaba Bush Lodge will be on your right</li>
									</ul>
								</p>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section> <!-- Block for Map to lodge -->
			<div id="Map" class="contentContainer">
				<p><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3627.0389238533603!2d28.421529315612574!3d-24.62234330751138!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1ebf42426d4562d5%3A0x5716acd8dc7e385f!2sKuthaba%20Bush%20Lodge!5e0!3m2!1sen!2sza!4v1600331412299!5m2!1sen!2sza" width="1000" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe><p/>
			</div>
		</section>

		<section> <!-- Vector Art Protea -->
			<div class="imageContainer" id="StayingThereFERN">
				<img src="Images/fern.png" alt="Protea" height="50" width="150">
			</div>
		</section>
		
		<section> <!-- Block for the Staying there -->
			<div class="contentContainer">
				<div id="StayingThere">
					<div>Staying there</div>
					<div class="main">
						<div style="font-family: myRaleway; font-size:17px; color: #70716c">There are a wide range of accommodation options available at Kuthaba Bush Lodge. View rates <a href="https://kuthaba.co.za/wp-content/uploads/2020/06/ACCOMMODATION-RATES-2021.pdf" target="_blank">here.</a></div> 
						<p><button class="Book" onclick="showModal('RES-Modal')">Reservations</button></p>
									
						<a id="AccImage" href="https://kuthaba.co.za/accommodation/#accommodation2" target="_blank"><img id="Logo" src="Images/Accomodation.PNG" height="350px" width="100%"></a>
					</div>
				</div>
			</div>
		</section>

		<section> <!-- Vector Art Protea -->
			<div class="imageContainer" id="RSVPFERN">
				<img src="Images/fern.png" alt="Protea" height="50" width="150">
			</div>
		</section>
		
		<section> <!-- Block for RSVP -->
			<div class="contentContainer">
				<div class="RSVP">
					<div>Répondez s'il vous plaît</div>
					<div class="main">					
						<p><button class="RSVPButton" onclick="showModal('RSVP-Modal')">RSVP</button></p>
					</div>
				</div>
			</div>
		</section>
		
		
	
		<section> <!-- Vector Art Protea -->
			<div class="imageContainer" id="GiftsFERN">
				<img src="Images/fern.png" alt="Protea" height="50" width="150">
			</div>
		</section>
		
		<section> <!-- Block for Gifts -->
			<div class="contentContainer">
				<div id="Gifts">
					<div>Gifts</div>
					<p></p>
					<div class="main">
						<p style="font-family: myRaleway; font-size:17px; color: #70716c";>If you are thinking of a gift,</br>To help us on our way,</br>A gift of cash towards our honeymoon,</br>Would really make our day.</br>However, if you prefer to purchase a gift,</br>Feel free to surprise us in your own way.</p>
					</div
				</div>
			</div>
		</section>
		
		<section> <!-- Vector Art Protea -->
			<div class="imageContainer">
				<img src="Images/fern.png" alt="Protea" height="50" width="150">
			</div>
		</section>
		
		<section> <!-- RSVP Popup box -->
			<div id="RSVP-Modal" class="Modal">
				<div class="modal-content">
					<div class='RSVPContainer'>
						<span onclick="hideModal('RSVP-Modal')" class="close">&times;</span>
						<div class="RSVP">
							<div style="font-size:50px;">Répondez s'il vous plaît</div>
						</div>
						<div id='page1'>
							<form action='#' onsubmit='callServer();return false'>
								<p>Please enter your email address:</br>
								<input id='email' pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$" required></input></p>
								<input type='submit' value='Confirm'></input>
								<p id='response'></p>
							</form>
						</div>
						<div id='page2'>
							<form action='#' onsubmit='Submit();return false'>
								<p>Please confirm who will be attending? (leave blank if no one will be attending)</p>			
									<div id='list'><ul id='checkboxlist' style="list-style-type:none;"></ul></div>
									<div><p>Please advise of any allergies or dietary requirements?</p><input id='alergy' required></input></div>
									<div><p>Please suggest a song for the reception?</p><input id='song' required></input></div></br>
									<input type='submit'></input>
								<p id='result'></p>
							</form>
						</div>
						<div id='page3'>
							<p>Thank you for your RSVP submission</p>			
						</div>
					</div>
				</div>
			</div>			
		</section>
		
		<section> <!-- Bookings Popup box -->
			<div id="RES-Modal" class="Modal">
				<div class="modal-content">
					<div class='RESContainer'>
						<span onclick="hideModal('RES-Modal')" class="close">&times;</span>
						<div class="RES">
							<div style="font-size:50px;">Reservations</div>
						</div>
						<div id='RES-page1'>
							<form action='#' onsubmit='Confirm();return false'>
								<p>
								Please read the below and then click continue:</br></br>

								The accommodation is limited and we would love to have everyone staying over for the night, so we ask that you please try and fill the rooms with family or friends to allow everyone to have the opportunity to stay over and enjoy the celebration.</br></br>

								Once you have booked your room, the list will be sent through to the lodge, and you will be invoiced directly by Kuthaba Bush Lodge.</p>
								<!-- <input id='email' pattern="[A-Za-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required></input></p> -->
								<button type='submit'>Confirm</button>
								<p id='response'></p>
							</form>
						</div>
						<div id='RES-page2'>
							<form action='#' onsubmit='SubmitAcc();return false'>
								<p>Please confirm who will be attending? (leave blank if no one will be attending)</p>			
									<div id='list'><ul id='checkboxlist' style="list-style-type:none;"></ul></div>
									<div><p>Please advise of any allergies or dietary requirements?</p><input id='alergy' required></input></div>
									<div><p>Please suggest a song for the reception?</p><input id='song' required></input></div></br>
									<input type='submit'></input>
								<p id='result'></p>
							</form>
						</div>
						<div id='RES-page3'>
							<p>Thank you your booking. </br> Kuthaba Bush Lodge will be in touch with you with your invoice.</br></br>Please note that the booking will only be finalised once payment has been received by Kuthaba Bush Lodge</p>			
						</div>
					</div>
				</div>
			</div>			
		</section>
		
		<script>
			var res = new Array;			
			
			function showModal(id){
				document.getElementById(id).style.display = "block";
			}
					
			function hideModal(id){
				document.getElementById(id).style.display = "none";
			}						
		
			function callServer(){
					var str = 'email=' + document.getElementById('email').value;
					var EmailAddress = str.toLowerCase();
					const HTTP = new XMLHttpRequest();
					const Url = 'https://script.google.com/macros/s/AKfycby1Saj-ZdReD9Lj4UGwob5dYk8k345uVLrYtnJLzZbMNUgUmak/exec' + '?' + EmailAddress;
					var myCheckBoxList = '<ul>';				
									
					document.getElementById('response').innerHTML = 'Please wait while we retrieve your information';
					
					HTTP.responseType = 'text';
					HTTP.open('GET', Url, true);
					
					HTTP.onreadystatechange = function() {
						document.getElementById('response').innerHTML += '...';
						if(HTTP.readyState === 4 && HTTP.status === 200) {																				
							var JS_obj = JSON.parse(HTTP.response);
							var myLength = JS_obj.length;
							if(myLength === 0){
								document.getElementById('response').innerHTML = 'Email address not found </br> Please use email address sent upon confirmation of Save the date.';
							}else{								
								for(i = 0; i < myLength; i++) {							
									res.push(JS_obj[i]);
									var textnode = document.createTextNode(' ' + JS_obj[i]);
									var node = document.createElement('li');
									var checkbox = document.createElement('input');
									checkbox.type = 'checkbox';
									checkbox.id = 'list'+[i];
									checkbox.name = 'names';
									checkbox.value = 'name';
									
									node.appendChild(checkbox);
									node.appendChild(textnode);
									document.getElementById('checkboxlist').appendChild(node);
								}
								
								document.getElementById('page1').style.display = 'none';
								document.getElementById('page2').style.display = 'block';
								document.getElementById('page3').style.display = 'none';
								//res.forEach(addValues);					
								myCheckBoxList += '</ul>';
							}
						}
					}
												
					HTTP.send(Url);
			}
			
			function Submit(){
				const HTTP = new XMLHttpRequest();				
				var responsedata = '';
				var str = 'email=' + document.getElementById('email').value;
				var EmailAddress = str.toLowerCase();
				var text = '';
				var URL2 = '';
				var Allergies = '';
				var Song = '';
				
				
				if(document.getElementById('alergy').value != ''){
					Allergies = '&allergy=' + document.getElementById('alergy').value;
				}else{
					Allergies = '&allergy=none';
				}
				
				if(document.getElementById('song').value != ''){
					Song = '&song=' + document.getElementById('song').value;
				}else{
					song = '&song=none';
				}
				
				
				//document.getElementById('result').innerHTML = EmailAddress + Allergies + Song;
				var listlength = res.length;
				
				for(j = 0; j < listlength; j++){				
					var myBox = document.getElementById('list'+[j]);
					if (myBox.checked == true){
						responsedata = '&fname=' + res[j] + '&attend=yes';											
						text = text + responsedata;											
					}else{						
						responsedata = '&fname=' + res[j] + '&attend=no';
						text = text + responsedata;												
					}
				}
				
				URL2 = 'https://script.google.com/macros/s/AKfycby1Saj-ZdReD9Lj4UGwob5dYk8k345uVLrYtnJLzZbMNUgUmak/exec' + '?' + EmailAddress + text + Allergies + Song;
				document.getElementById('result').innerHTML = 'Please wait while we submit your details...';
				
				HTTP.responseType = 'text';
				HTTP.open('GET', URL2, true);
				
				HTTP.onreadystatechange = function() {
					document.getElementById('response').innerHTML += '...';
					if(HTTP.readyState === 4 && HTTP.status === 200) {						
						//var JS_obj = JSON.parse(HTTP.response);
						var returnText = HTTP.response;
						if(returnText === 'executed'){
							document.getElementById('page1').style.display = 'none';
							document.getElementById('page2').style.display = 'none';
							document.getElementById('page3').style.display = 'block';
						}else{
							document.getElementById('result').innerHTML = 'Error with your submission. Please refresh the page and try again';
						}
												
					}
				}											
				HTTP.send(URL2);
			}
			
			function Confirm(){
				document.getElementById('RES-page1').style.display = 'none';
				document.getElementById('RES-page2').style.display = 'block';
			}
			
			function SubmitAcc(){
				document.getElementById('RES-page2').style.display = 'none';
				document.getElementById('RES-page3').style.display = 'block';
			}
			
		</script>
	</body>  
</html>
